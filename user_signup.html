<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=, initial-scale=1.0">
    <title>회원가입</title>
    <script src="loader.js"></script>
    <!-- Add Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="loader.js"></script>
    <script>
        async function signup(){
            const password = document.getElementById('password').value;
            const passwordConfirmation = document.getElementById('passwordConfirmation').value;
            const email = document.getElementById('email').value;
            const name = document.getElementById('name').value;
            
            if(password !== passwordConfirmation) {
                alert("비밀번호가 일치하지 않습니다.");
                return;
            }

            const data = {email, password, name};
            const res = await fetch('https://lucedude.link/user/signup/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data),
            });
            const result = await res.json();
            if(result.success){
                alert(result.message);
                location.href = 'user_login.html';
            }else{
                alert(result.message);
            }
        }
    </script>
</head>
<body>
    <header></header>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-6">
                <h1 class="text-center">회원가입</h1>
                <div class="form-group">
                    <label for="email">이메일</label>
                    <input type="email" class="form-control" id="email" placeholder="이메일">
                </div>
                <div class="form-group">
                    <label for="password">비밀번호</label>
                    <input type="password" class="form-control" id="password" placeholder="비밀번호">
                </div>
                <div class="form-group">
                    <label for="passwordConfirmation">비밀번호 확인</label>
                    <input type="password" class="form-control" id="passwordConfirmation" placeholder="비밀번호 확인">
                </div>
                <div class="form-group">
                    <label for="name">이름</label>
                    <input type="text" class="form-control" id="name" placeholder="이름">
                </div>
                <div class="text-center">
                    <button class="btn btn-primary" onclick="signup()">회원가입</button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
